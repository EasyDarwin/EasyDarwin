import"./request-YsyQPLWC.1735711566000.js";import{b as v}from"./base-ZGFgEhjM.1735711566000.js";import{g as V}from"./index-BZNXQtYc.1735711566000.js";import{m as H,K as g,A as I,h as P,x as F,I as L,B as O,W,X,N as $,O as z,Y as A,F as J}from"./ant-design-vue-DoWxoWwg.1735711566000.js";import{a2 as b}from"./@ant-design-BLetnoCm.1735711566000.js";import{r as x,V as K,X as e,W as Y,_ as p,c as t,u as h,J as r}from"./@vue-Bxslm7sw.1735711566000.js";import"./axios-upsvKRUO.1735711566000.js";import"./qs-Dl3fWgBH.1735711566000.js";import"./call-bind-9I5n-WuC.1735711566000.js";import"./get-intrinsic-CCpWxmPk.1735711566000.js";import"./es-errors-DzOT6E3C.1735711566000.js";import"./gopd-fcd2-aIC.1735711566000.js";import"./es-define-property-bDCdrV83.1735711566000.js";import"./has-symbols-BaUvM3gb.1735711566000.js";import"./dunder-proto-0l1vuzli.1735711566000.js";import"./call-bind-apply-helpers-0RM3uiXS.1735711566000.js";import"./function-bind-CHqF18-c.1735711566000.js";import"./hasown-DByPsmSW.1735711566000.js";import"./set-function-length-BtQInkhp.1735711566000.js";import"./define-data-property-MfCsHmXW.1735711566000.js";import"./has-property-descriptors-Dq-3HQZp.1735711566000.js";import"./side-channel-DffzUMpz.1735711566000.js";import"./object-inspect-DYmWqAa6.1735711566000.js";import"./crypto-js-oA4IVPzm.1735711566000.js";import"./vue-i18n-uJR4hMNF.1735711566000.js";import"./@intlify-BG2mqeYI.1735711566000.js";import"./nprogress-CLSsUHm1.1735711566000.js";/* empty css                                  */import"./dayjs-B8XocIVj.1735711566000.js";import"./pinia-1a_NKH_A.1735711566000.js";import"./vue-demi-Dq6ymT-8.1735711566000.js";import"./pinia-plugin-persistedstate-n2tMOXAx.1735711566000.js";import"./vue-router-DjNbiwhF.1735711566000.js";import"./lodash-es-BtLQVgmQ.1735711566000.js";import"./@iconify-B0GEP3fu.1735711566000.js";import"./@babel-BiFW4_mA.1735711566000.js";import"./@ctrl-DOFZgDuz.1735711566000.js";import"./resize-observer-polyfill-B1PUzC5B.1735711566000.js";import"./throttle-debounce-CUWDS_la.1735711566000.js";import"./vue-types-C5fUfLeo.1735711566000.js";import"./dom-align-CRCehRfe.1735711566000.js";import"./async-validator-DKvM95Vc.1735711566000.js";import"./scroll-into-view-if-needed--Yz0kGe5.1735711566000.js";import"./compute-scroll-into-view-1gs_hJI2.1735711566000.js";import"./@emotion-BtrR-yrm.1735711566000.js";import"./stylis-OW4gUFyn.1735711566000.js";const Xt={__name:"index",setup(j){const _=x({authorization:`Bearer ${V()}`}),a=x({disabled_captcha:!0,https_listen_addr:"",https_cert_file:"",https_key_file:""}),y=()=>{v.getConfigBase().then(n=>{n.status==200&&(a.value=n.data)})},u=n=>{n.file&&n.file.xhr&&n.file.xhr.status==200&&g.success({description:"上传成功!"})},C=()=>{v.postConfigBase(a.value,!0).then(n=>{n.status==200&&g.success({description:"修改成功!"})})};y();const k={style:{width:"160px"}};return(n,o)=>{const B=I,w=P,s=F,m=L,i=O,d=W,f=X,c=$,T=z,U=A,S=J,N=H;return Y(),K(N,{class:"config-box"},{default:e(()=>[o[10]||(o[10]=p("h3",{class:"fw600"},"基础配置",-1)),t(B),t(S,{model:a.value,"label-col":k},{default:e(()=>[t(s,{label:"HTTPS 端口"},{default:e(()=>[t(w,{style:{width:"140px"},value:a.value.https_listen_addr,"onUpdate:value":o[0]||(o[0]=l=>a.value.https_listen_addr=l),min:1,max:65535},null,8,["value"]),o[4]||(o[4]=p("span",{class:"info"},"修改后重启生效",-1))]),_:1}),t(s,{label:"HTTPS Cert 文件路径"},{default:e(()=>[t(f,{compact:""},{default:e(()=>[t(m,{value:a.value.https_cert_file,"onUpdate:value":o[1]||(o[1]=l=>a.value.https_cert_file=l),disabled:"",style:{width:"calc(100% - 46px)"}},null,8,["value"]),t(d,{name:"file",action:"/api/v1/configs/upload/cert",headers:_.value,showUploadList:!1,onChange:u},{default:e(()=>[t(i,{class:"brtl"},{default:e(()=>[t(h(b))]),_:1})]),_:1},8,["headers"])]),_:1}),o[5]||(o[5]=p("span",{class:"info"},"修改后重启生效",-1))]),_:1}),t(s,{label:"HTTPS key 文件路径"},{default:e(()=>[t(f,{compact:""},{default:e(()=>[t(m,{value:a.value.https_key_file,"onUpdate:value":o[2]||(o[2]=l=>a.value.https_key_file=l),disabled:"",style:{width:"calc(100% - 46px)"}},null,8,["value"]),t(d,{name:"file",action:"/api/v1/configs/upload/key",headers:_.value,showUploadList:!1,onChange:u},{default:e(()=>[t(i,{class:"brtl"},{default:e(()=>[t(h(b))]),_:1})]),_:1},8,["headers"])]),_:1}),o[6]||(o[6]=p("span",{class:"info"},"修改后重启生效",-1))]),_:1}),t(s,{label:"登录验证码"},{default:e(()=>[t(T,{value:a.value.disabled_captcha,"onUpdate:value":o[3]||(o[3]=l=>a.value.disabled_captcha=l)},{default:e(()=>[t(c,{value:!1},{default:e(()=>o[7]||(o[7]=[r("开启")])),_:1}),t(c,{value:!0},{default:e(()=>o[8]||(o[8]=[r("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),t(s,null,{default:e(()=>[t(U,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:C},{default:e(()=>[t(i,{class:"ml160px",type:"primary"},{default:e(()=>o[9]||(o[9]=[r("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{Xt as default};
