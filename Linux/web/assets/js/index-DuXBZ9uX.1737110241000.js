import"./request-ZxzhHWJh.1737110241000.js";import{b as $}from"./base-DpfWbqA7.1737110241000.js";import{g as ue}from"./index-CxiSgu_q.1737110241000.js";import{a2 as h,w as ne,P as oe}from"./@ant-design-DWAmKvXw.1737110241000.js";import{J as M,z as L,h as E,w as N,I as j,B,V as se,W as pe,K,N as q,X as V,F as D,A as c,E as ee,S as A,i as J,u as Q,Y as fe,M as ve,Z as de,m as ie}from"./ant-design-vue-YDCKpw9Q.1737110241000.js";import{r as C,f as F,w as z,W as T,V as k,X as t,_ as b,J as u,$ as O,c as l,u as W,Z as G,F as _e,a0 as re,a3 as I}from"./@vue-BfhzGpZF.1737110241000.js";import{i as me}from"./index-Cz-h0Hr_.1737110241000.js";import"./axios-upsvKRUO.1737110241000.js";import"./qs-B8H1bFrO.1737110241000.js";import"./call-bind-D8HxU8eU.1737110241000.js";import"./get-intrinsic-DHvDm5IU.1737110241000.js";import"./es-errors-DzOT6E3C.1737110241000.js";import"./gopd-fcd2-aIC.1737110241000.js";import"./es-define-property-bDCdrV83.1737110241000.js";import"./has-symbols-BaUvM3gb.1737110241000.js";import"./dunder-proto-B-2Bgiap.1737110241000.js";import"./call-bind-apply-helpers-DdvJjOyj.1737110241000.js";import"./function-bind-CHqF18-c.1737110241000.js";import"./hasown-DWtZAXcf.1737110241000.js";import"./set-function-length-C9mYOxiX.1737110241000.js";import"./define-data-property-Dy2YOX90.1737110241000.js";import"./has-property-descriptors-Bu2BqhW-.1737110241000.js";import"./side-channel-D6pqONTP.1737110241000.js";import"./object-inspect-C-jZde8o.1737110241000.js";import"./crypto-js-C6P57YDX.1737110241000.js";import"./vue-i18n-Dpn4gLhm.1737110241000.js";import"./@intlify-BG2mqeYI.1737110241000.js";import"./nprogress-DU86DrGV.1737110241000.js";/* empty css                                  */import"./dayjs-Dc61Wt7u.1737110241000.js";import"./pinia-D6fI-ZdN.1737110241000.js";import"./vue-demi-Dq6ymT-8.1737110241000.js";import"./pinia-plugin-persistedstate-n2tMOXAx.1737110241000.js";import"./vue-router-Cyqq3sEN.1737110241000.js";import"./lodash-es-BtLQVgmQ.1737110241000.js";import"./@iconify-C9sTFQfd.1737110241000.js";import"./@babel-BiFW4_mA.1737110241000.js";import"./@ctrl-DOFZgDuz.1737110241000.js";import"./resize-observer-polyfill-B1PUzC5B.1737110241000.js";import"./throttle-debounce-CUWDS_la.1737110241000.js";import"./vue-types-C5fUfLeo.1737110241000.js";import"./dom-align-CRCehRfe.1737110241000.js";import"./async-validator-DKvM95Vc.1737110241000.js";import"./scroll-into-view-if-needed-DrbnJgYN.1737110241000.js";import"./compute-scroll-into-view-1gs_hJI2.1737110241000.js";import"./@emotion-BtrR-yrm.1737110241000.js";import"./stylis-OW4gUFyn.1737110241000.js";import"./vue-clipboard3-BvuNYtD-.1737110241000.js";import"./clipboard-DUuLqDJS.1737110241000.js";const be={class:"fw600"},ye={__name:"base",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({authorization:`Bearer ${ue()}`}),_=C({disabled_captcha:!0,https_listen_addr:"",https_cert_file:"",https_key_file:"",timeout:60,jwt_secret:""}),S=x=>{x.file&&x.file.xhr&&x.file.xhr.status==200&&M.success({description:"上传成功!"})},v=()=>{$.postConfigBase(_.value,!0).then(x=>{x.status==200&&M.success({description:"修改成功!"})})};_.value=d.info.config;const e=F(()=>d.info.label);return z(()=>d.info,()=>{_.value=d.info.config},{deep:!0}),(x,o)=>{const p=L,n=E,i=N,r=j,U=B,y=se,f=pe,w=K,s=q,g=V,R=D;return T(),k(R,{model:_.value,layout:"vertical"},{default:t(()=>[b("h3",be,[u(O(e.value),1),l(p)]),l(i,{label:"HTTPS 端口"},{default:t(()=>[l(n,{style:{width:"120px"},value:_.value.https_listen_addr,"onUpdate:value":o[0]||(o[0]=m=>_.value.https_listen_addr=m),min:1,max:65535},null,8,["value"])]),_:1}),l(i,{label:"HTTPS Cert 文件"},{default:t(()=>[l(f,{compact:""},{default:t(()=>[l(r,{value:_.value.https_cert_file,"onUpdate:value":o[1]||(o[1]=m=>_.value.https_cert_file=m),disabled:"",style:{width:"calc(100% - 46px)"}},null,8,["value"]),l(y,{name:"file",action:"/api/v1/configs/upload/cert",headers:a.value,showUploadList:!1,onChange:S},{default:t(()=>[l(U,{class:"brtl"},{default:t(()=>[l(W(h))]),_:1})]),_:1},8,["headers"])]),_:1})]),_:1}),l(i,{label:"HTTPS key 文件"},{default:t(()=>[l(f,{compact:""},{default:t(()=>[l(r,{value:_.value.https_key_file,"onUpdate:value":o[2]||(o[2]=m=>_.value.https_key_file=m),disabled:"",style:{width:"calc(100% - 46px)"}},null,8,["value"]),l(y,{name:"file",action:"/api/v1/configs/upload/key",headers:a.value,showUploadList:!1,onChange:S},{default:t(()=>[l(U,{class:"brtl"},{default:t(()=>[l(W(h))]),_:1})]),_:1},8,["headers"])]),_:1})]),_:1}),l(i,{label:"JWT 鉴权密钥"},{default:t(()=>[o[6]||(o[6]=b("span",{class:"info"},"jwt 秘钥，空串时，每次启动程序将随机赋值",-1)),l(r,{value:_.value.jwt_secret,"onUpdate:value":o[3]||(o[3]=m=>_.value.jwt_secret=m),placeholder:"jwt secret"},null,8,["value"])]),_:1}),l(i,{label:"请求超时(s)"},{default:t(()=>[l(n,{style:{width:"120px"},value:_.value.timeout,"onUpdate:value":o[4]||(o[4]=m=>_.value.timeout=m)},null,8,["value"])]),_:1}),l(i,{label:"登录验证码"},{default:t(()=>[l(s,{value:_.value.disabled_captcha,"onUpdate:value":o[5]||(o[5]=m=>_.value.disabled_captcha=m)},{default:t(()=>[l(w,{value:!1},{default:t(()=>o[7]||(o[7]=[u("开启")])),_:1}),l(w,{value:!0},{default:t(()=>o[8]||(o[8]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(i,null,{default:t(()=>[o[10]||(o[10]=b("br",null,null,-1)),l(g,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:v},{default:t(()=>[l(U,{type:"primary"},{default:t(()=>o[9]||(o[9]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},ge={class:"fw600"},Ue={__name:"stream",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({enable:!1,gop_cache_num:0,single_gop_max_frame_num:0,http_flv:{enable:!1,enable_https:!1,url_pattern:""},http_fmp4:{enable:!1,enable_https:!1,url_pattern:""},http_ts:{enable:!1,enable_https:!1,url_pattern:""}}),_=()=>{$.postConfigStream(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=K,p=q,n=N,i=E,r=j,U=c,y=ee,f=B,w=V,s=D;return T(),k(s,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",ge,O(S.value),1),l(x),l(n,{label:"API接口"},{default:t(()=>[l(p,{value:a.value.enable,"onUpdate:value":e[0]||(e[0]=g=>a.value.enable=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[12]||(e[12]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[13]||(e[13]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"GOP 缓存个数"},{default:t(()=>[l(i,{style:{width:"120px"},value:a.value.gop_cache_num,"onUpdate:value":e[1]||(e[1]=g=>a.value.gop_cache_num=g)},null,8,["value"])]),_:1}),l(n,{label:"GOP 最大帧数"},{default:t(()=>[e[14]||(e[14]=b("span",{class:"info"},"0 表示不限制，此参数可以限制每个 gop 的最大帧数",-1)),l(i,{style:{width:"120px"},value:a.value.single_gop_max_frame_num,"onUpdate:value":e[2]||(e[2]=g=>a.value.single_gop_max_frame_num=g)},null,8,["value"])]),_:1}),l(y,{type:"card"},{default:t(()=>[l(U,{key:"1",tab:"HTTP_FLV"},{default:t(()=>[l(n,{label:"启用HTTP"},{default:t(()=>[l(p,{value:a.value.http_flv.enable,"onUpdate:value":e[3]||(e[3]=g=>a.value.http_flv.enable=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[15]||(e[15]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[16]||(e[16]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"启用HTTPS"},{default:t(()=>[l(p,{value:a.value.http_flv.enable_https,"onUpdate:value":e[4]||(e[4]=g=>a.value.http_flv.enable_https=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[17]||(e[17]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[18]||(e[18]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"地址格式"},{default:t(()=>[l(r,{value:a.value.http_flv.url_pattern,"onUpdate:value":e[5]||(e[5]=g=>a.value.http_flv.url_pattern=g)},null,8,["value"])]),_:1})]),_:1}),l(U,{key:"2",tab:"HTTP_FMP4"},{default:t(()=>[l(n,{label:"启用HTTP"},{default:t(()=>[l(p,{value:a.value.http_fmp4.enable,"onUpdate:value":e[6]||(e[6]=g=>a.value.http_fmp4.enable=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[19]||(e[19]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[20]||(e[20]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"启用HTTPS"},{default:t(()=>[l(p,{value:a.value.http_fmp4.enable_https,"onUpdate:value":e[7]||(e[7]=g=>a.value.http_fmp4.enable_https=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[21]||(e[21]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[22]||(e[22]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"地址格式"},{default:t(()=>[l(r,{value:a.value.http_fmp4.url_pattern,"onUpdate:value":e[8]||(e[8]=g=>a.value.http_fmp4.url_pattern=g)},null,8,["value"])]),_:1})]),_:1}),l(U,{key:"3",tab:"HTTP_TS"},{default:t(()=>[l(n,{label:"启用HTTP"},{default:t(()=>[l(p,{value:a.value.http_ts.enable,"onUpdate:value":e[9]||(e[9]=g=>a.value.http_ts.enable=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[23]||(e[23]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[24]||(e[24]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"启用HTTPS"},{default:t(()=>[l(p,{value:a.value.http_ts.enable_https,"onUpdate:value":e[10]||(e[10]=g=>a.value.http_ts.enable_https=g)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[25]||(e[25]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[26]||(e[26]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"地址格式"},{default:t(()=>[l(r,{value:a.value.http_ts.url_pattern,"onUpdate:value":e[11]||(e[11]=g=>a.value.http_ts.url_pattern=g)},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(n,null,{default:t(()=>[e[28]||(e[28]=b("br",null,null,-1)),l(w,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(f,{type:"primary"},{default:t(()=>e[27]||(e[27]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},xe={class:"fw600"},we={__name:"data",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({Dsn:"",MaxIdleConns:0,MaxOpenConns:0,ConnMaxLifetime:0,SlowThreshold:0}),_=()=>{$.postConfigData(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=E,p=N,n=j,i=B,r=V,U=D;return T(),k(U,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",xe,O(S.value),1),l(x),l(p,{label:"最大空闲连接数"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.MaxIdleConns,"onUpdate:value":e[0]||(e[0]=y=>a.value.MaxIdleConns=y),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"最大打开连接数"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.MaxOpenConns,"onUpdate:value":e[1]||(e[1]=y=>a.value.MaxOpenConns=y),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"连接最大生命周期(s)"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.ConnMaxLifetime,"onUpdate:value":e[2]||(e[2]=y=>a.value.ConnMaxLifetime=y)},null,8,["value"])]),_:1}),l(p,{label:"慢查询阈值(ms)"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.SlowThreshold,"onUpdate:value":e[3]||(e[3]=y=>a.value.SlowThreshold=y)},null,8,["value"])]),_:1}),l(p,{label:"数据库路径"},{default:t(()=>[e[5]||(e[5]=b("span",{class:"info"},"默认为相对软件安装目录路径",-1)),l(n,{value:a.value.Dsn,"onUpdate:value":e[4]||(e[4]=y=>a.value.Dsn=y)},null,8,["value"])]),_:1}),l(p,null,{default:t(()=>[e[7]||(e[7]=b("br",null,null,-1)),l(r,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(i,{type:"primary"},{default:t(()=>e[6]||(e[6]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},Te={class:"fw600"},Se={__name:"hls",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({enable:!1,enable_https:!1,url_pattern:"",use_memory_as_disk_flag:!1,use_m3u8_memory_flag:!1,cleanup_mode:0,sub_session_timeout_ms:0,sub_session_hash_key:"",out_path:"",fragment_duration_ms:0,fragment_num:0,delete_threshold:0,boundary_by_video:!1,fmp4:{enable:!1,enable_https:!1,url_pattern:""}}),_=()=>{$.postConfigHls(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config,console.log(d.info.config);const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=A,p=J,n=N,i=E,r=K,U=q,y=j,f=c,w=ee,s=B,g=V,R=D;return T(),k(R,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",Te,O(S.value),1),l(x),l(n,{label:"HLS文件清理模式"},{default:t(()=>[l(p,{ref:"select",value:a.value.cleanup_mode,"onUpdate:value":e[0]||(e[0]=m=>a.value.cleanup_mode=m),style:{"max-width":"800px"}},{default:t(()=>[l(o,{value:0},{default:t(()=>e[16]||(e[16]=[u("不删除m3u8+ts文件，可用于录制等场景")])),_:1}),l(o,{value:1},{default:t(()=>e[17]||(e[17]=[u("在输入流结束后删除m3u8+ts文件")])),_:1}),l(o,{value:2},{default:t(()=>e[18]||(e[18]=[u("持续删除ts文件，保留`delete_threshold + fragment_num + 1")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"HLS播放超时(ms)"},{default:t(()=>[e[19]||(e[19]=b("span",{class:"info"},"统计HLS播放者信息时，判定HLS播放者超时离开的时间，单位是毫秒",-1)),l(i,{style:{width:"120px"},value:a.value.sub_session_timeout_ms,"onUpdate:value":e[1]||(e[1]=m=>a.value.sub_session_timeout_ms=m)},null,8,["value"])]),_:1}),l(n,{label:"TS文件切片时长(ms)"},{default:t(()=>[e[20]||(e[20]=b("span",{class:"info"},"单个TS文件切片时长，单位毫秒",-1)),l(i,{style:{width:"120px"},value:a.value.fragment_duration_ms,"onUpdate:value":e[2]||(e[2]=m=>a.value.fragment_duration_ms=m)},null,8,["value"])]),_:1}),l(n,{label:"TS文件个数"},{default:t(()=>[e[21]||(e[21]=b("span",{class:"info"},"直播时临时存放的ts文件的数量",-1)),l(i,{style:{width:"120px"},value:a.value.fragment_num,"onUpdate:value":e[3]||(e[3]=m=>a.value.fragment_num=m)},null,8,["value"])]),_:1}),l(n,{label:"删除过期TS文件"},{default:t(()=>[e[22]||(e[22]=b("span",{class:"info"},"更早过期的ts文件将被删除",-1)),l(i,{style:{width:"120px"},value:a.value.delete_threshold,"onUpdate:value":e[4]||(e[4]=m=>a.value.delete_threshold=m)},null,8,["value"])]),_:1}),l(n,{label:"启用内存保存HLS录像"},{default:t(()=>[e[25]||(e[25]=b("span",{class:"info"},"使用内存取代磁盘，保存m3u8+ts文件",-1)),l(U,{value:a.value.use_memory_as_disk_flag,"onUpdate:value":e[5]||(e[5]=m=>a.value.use_memory_as_disk_flag=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[23]||(e[23]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[24]||(e[24]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"启用内存保存HLS直播"},{default:t(()=>[e[28]||(e[28]=b("span",{class:"info"},"使用内存取代磁盘，保存直播临时m3u8+ts文件",-1)),l(U,{value:a.value.use_m3u8_memory_flag,"onUpdate:value":e[6]||(e[6]=m=>a.value.use_m3u8_memory_flag=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[26]||(e[26]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[27]||(e[27]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"是否以视频切片"},{default:t(()=>[l(U,{value:a.value.boundary_by_video,"onUpdate:value":e[7]||(e[7]=m=>a.value.boundary_by_video=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[29]||(e[29]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[30]||(e[30]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"HLS密钥"},{default:t(()=>[e[31]||(e[31]=b("span",{class:"info"},"私钥，计算播放者唯一ID时使用",-1)),l(y,{value:a.value.sub_session_hash_key,"onUpdate:value":e[8]||(e[8]=m=>a.value.sub_session_hash_key=m)},null,8,["value"])]),_:1}),l(n,{label:"HLS文件保存路径"},{default:t(()=>[e[32]||(e[32]=b("span",{class:"info"},"HLS的m3u8和文件的输出根目录",-1)),l(y,{value:a.value.out_path,"onUpdate:value":e[9]||(e[9]=m=>a.value.out_path=m)},null,8,["value"])]),_:1}),l(w,{type:"card"},{default:t(()=>[l(f,{key:"1",tab:"HLS"},{default:t(()=>[l(n,{label:"启用HTTP"},{default:t(()=>[l(U,{value:a.value.enable,"onUpdate:value":e[10]||(e[10]=m=>a.value.enable=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[33]||(e[33]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[34]||(e[34]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"启用HTTPS"},{default:t(()=>[l(U,{value:a.value.enable_https,"onUpdate:value":e[11]||(e[11]=m=>a.value.enable_https=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[35]||(e[35]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[36]||(e[36]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"地址格式"},{default:t(()=>[l(y,{value:a.value.url_pattern,"onUpdate:value":e[12]||(e[12]=m=>a.value.url_pattern=m)},null,8,["value"])]),_:1})]),_:1}),l(f,{key:"2",tab:"FMP4"},{default:t(()=>[l(n,{label:"启用HTTP"},{default:t(()=>[l(U,{value:a.value.fmp4.enable,"onUpdate:value":e[13]||(e[13]=m=>a.value.fmp4.enable=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[37]||(e[37]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[38]||(e[38]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"启用HTTPS"},{default:t(()=>[l(U,{value:a.value.fmp4.enable_https,"onUpdate:value":e[14]||(e[14]=m=>a.value.fmp4.enable_https=m)},{default:t(()=>[l(r,{value:!0},{default:t(()=>e[39]||(e[39]=[u("开启")])),_:1}),l(r,{value:!1},{default:t(()=>e[40]||(e[40]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"地址格式"},{default:t(()=>[l(y,{value:a.value.fmp4.url_pattern,"onUpdate:value":e[15]||(e[15]=m=>a.value.fmp4.url_pattern=m)},null,8,["value"])]),_:1})]),_:1})]),_:1}),l(n,null,{default:t(()=>[e[42]||(e[42]=b("br",null,null,-1)),l(g,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(s,{type:"primary"},{default:t(()=>e[41]||(e[41]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},ke={class:"fw600"},Pe={key:0,style:{color:"red"}},Ce={__name:"rtc",props:{info:{type:Object,default:()=>({})}},setup(P){var r,U;const d=P,a=C([]),_=C(""),S=C(!1),v=C({iceHostNatToIps:[],iceUdpMuxPort:0,iceTcpMuxPort:0,pub_timeout_sec:0,enable:!1,enable_https:!1,url_pattern:""}),e=()=>{v.value.iceHostNatToIps=a.value,$.postConfigRtc(v.value,!0).then(y=>{y.status==200&&M.success({description:"修改成功!"})})},x=C(!1),o=()=>{x.value=!0,S.value=!1,_.value=""},p=y=>{a.value.splice(y,1)},n=()=>{me(_.value)?(a.value.push(_.value),x.value=!1):S.value=!0};v.value=d.info.config,a.value=((U=(r=d.info)==null?void 0:r.config)==null?void 0:U.iceHostNatToIps)||[];const i=F(()=>d.info.label);return z(()=>d.info,()=>{var y,f;v.value=d.info.config,a.value=((f=(y=d.info)==null?void 0:y.config)==null?void 0:f.iceHostNatToIps)||[]},{deep:!0}),(y,f)=>{const w=L,s=E,g=N,R=B,m=K,X=q,Z=j,le=V,te=Q,ae=D;return T(),k(ae,{model:v.value,layout:"vertical"},{default:t(()=>[b("h3",ke,O(i.value),1),l(w),l(g,{label:"超时时间(s)"},{default:t(()=>[f[8]||(f[8]=b("span",{class:"info"},"发布流，没有流超时时间，自动销毁",-1)),l(s,{style:{width:"120px"},value:v.value.pub_timeout_sec,"onUpdate:value":f[0]||(f[0]=H=>v.value.pub_timeout_sec=H)},null,8,["value"])]),_:1}),l(g,{label:"UDP 端口"},{default:t(()=>[l(s,{style:{width:"120px"},value:v.value.iceUdpMuxPort,"onUpdate:value":f[1]||(f[1]=H=>v.value.iceUdpMuxPort=H),min:1,max:65535},null,8,["value"])]),_:1}),l(g,{label:"TCP 端口"},{default:t(()=>[l(s,{style:{width:"120px"},value:v.value.iceTcpMuxPort,"onUpdate:value":f[2]||(f[2]=H=>v.value.iceTcpMuxPort=H)},null,8,["value"])]),_:1}),l(g,{label:"IP 白名单"},{default:t(()=>[(T(!0),G(_e,null,re(a.value,(H,Y)=>(T(),k(R,{class:"ml5px",key:Y,size:"small"},{default:t(()=>[u(O(H)+" ",1),l(W(ne),{onClick:Fe=>p(Y)},null,8,["onClick"])]),_:2},1024))),128)),l(R,{type:"primary",class:"ml5px",shape:"circle",onClick:o,size:"small"},{default:t(()=>[l(W(oe))]),_:1})]),_:1}),l(g,{label:"启用HTTP"},{default:t(()=>[l(X,{value:v.value.enable,"onUpdate:value":f[3]||(f[3]=H=>v.value.enable=H)},{default:t(()=>[l(m,{value:!0},{default:t(()=>f[9]||(f[9]=[u("开启")])),_:1}),l(m,{value:!1},{default:t(()=>f[10]||(f[10]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(g,{label:"启用HTTPS"},{default:t(()=>[l(X,{value:v.value.enable_https,"onUpdate:value":f[4]||(f[4]=H=>v.value.enable_https=H)},{default:t(()=>[l(m,{value:!0},{default:t(()=>f[11]||(f[11]=[u("开启")])),_:1}),l(m,{value:!1},{default:t(()=>f[12]||(f[12]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(g,{label:"地址格式"},{default:t(()=>[l(Z,{value:v.value.url_pattern,"onUpdate:value":f[5]||(f[5]=H=>v.value.url_pattern=H)},null,8,["value"])]),_:1}),l(g,null,{default:t(()=>[f[14]||(f[14]=b("br",null,null,-1)),l(le,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:e},{default:t(()=>[l(R,{type:"primary"},{default:t(()=>f[13]||(f[13]=[u("保存")])),_:1})]),_:1})]),_:1}),l(te,{open:x.value,"onUpdate:open":f[7]||(f[7]=H=>x.value=H),width:"260px",style:{top:"34%"},title:"添加IP白名单",onOk:n},{default:t(()=>[l(Z,{value:_.value,"onUpdate:value":f[6]||(f[6]=H=>_.value=H)},null,8,["value"]),S.value?(T(),G("span",Pe,"IP地址格式不正确")):I("",!0),f[15]||(f[15]=b("br",null,null,-1))]),_:1},8,["open"])]),_:1},8,["model"])}}},He={class:"fw600"},Ie={key:0,style:{color:"red"}},Me={__name:"rtmp",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({enable:!1,rtmps_enable:!1,addr:0,rtmps_addr:0,rtmp_over_quic_enable:!1,rtmp_over_quic_addr:0,merge_write_size:0,pub_timeout_sec:0,pull_timeout_sec:0}),_=()=>{$.postConfigRtmp(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=E,p=N,n=K,i=q,r=B,U=V,y=j,f=Q,w=D;return T(),k(w,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",He,O(S.value),1),l(x),l(p,{label:"数据合并(Byte)"},{default:t(()=>[e[11]||(e[11]=b("span",{class:"info",style:{display:"block"}},"将小包数据合并发送，提高服务器性能，为0则不合并发送。",-1)),l(o,{style:{width:"120px"},value:a.value.merge_write_size,"onUpdate:value":e[0]||(e[0]=s=>a.value.merge_write_size=s)},null,8,["value"])]),_:1}),l(p,{label:"推流超时(s)"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.pub_timeout_sec,"onUpdate:value":e[1]||(e[1]=s=>a.value.pub_timeout_sec=s)},null,8,["value"])]),_:1}),l(p,{label:"拉流超时(s)"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.pull_timeout_sec,"onUpdate:value":e[2]||(e[2]=s=>a.value.pull_timeout_sec=s)},null,8,["value"])]),_:1}),l(p,{label:"启用RTMP"},{default:t(()=>[l(i,{value:a.value.enable,"onUpdate:value":e[3]||(e[3]=s=>a.value.enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[12]||(e[12]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[13]||(e[13]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"RTMP 端口"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.addr,"onUpdate:value":e[4]||(e[4]=s=>a.value.addr=s),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"启用RTMPS"},{default:t(()=>[l(i,{value:a.value.rtmps_enable,"onUpdate:value":e[5]||(e[5]=s=>a.value.rtmps_enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[14]||(e[14]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[15]||(e[15]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"RTMPS 端口"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.rtmps_addr,"onUpdate:value":e[6]||(e[6]=s=>a.value.rtmps_addr=s),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"启用RTMP_OVER_QUIC"},{default:t(()=>[l(i,{value:a.value.rtmp_over_quic_enable,"onUpdate:value":e[7]||(e[7]=s=>a.value.rtmp_over_quic_enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[16]||(e[16]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[17]||(e[17]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"RTMP_OVER_QUIC 端口"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.rtmp_over_quic_addr,"onUpdate:value":e[8]||(e[8]=s=>a.value.rtmp_over_quic_addr=s),min:1,max:65535},null,8,["value"])]),_:1}),l(p,null,{default:t(()=>[e[19]||(e[19]=b("br",null,null,-1)),l(U,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(r,{type:"primary"},{default:t(()=>e[18]||(e[18]=[u("保存")])),_:1})]),_:1})]),_:1}),l(f,{open:v.open,"onUpdate:open":e[10]||(e[10]=s=>v.open=s),width:"260px",style:{top:"34%"},title:"添加IP白名单",onOk:v.handleOk},{default:t(()=>[l(y,{value:v.inputIp,"onUpdate:value":e[9]||(e[9]=s=>v.inputIp=s)},null,8,["value"]),v.inputIpErr?(T(),G("span",Ie,"IP地址格式不正确")):I("",!0),e[20]||(e[20]=b("br",null,null,-1))]),_:1},8,["open","onOk"])]),_:1},8,["model"])}}},Oe={class:"fw600"},$e={key:0,style:{color:"red"}},Re={__name:"rtsp",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({enable:!1,addr:0,rtsps_enable:!1,rtsps_addr:0,ws_rtsp_enable:!1,ws_rtsp_addr:0,out_wait_key_frame_flag:!1,pub_timeout_sec:0,pull_timeout_sec:0,auth_enable:!1,auth_method:0,username:"",password:""}),_=()=>{$.postConfigRtsp(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=E,p=N,n=K,i=q,r=j,U=B,y=V,f=Q,w=D;return T(),k(w,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",Oe,O(S.value),1),l(x),l(p,{label:"推流超时(s)"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.pub_timeout_sec,"onUpdate:value":e[0]||(e[0]=s=>a.value.pub_timeout_sec=s)},null,8,["value"])]),_:1}),l(p,{label:"拉流超时(s)"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.pull_timeout_sec,"onUpdate:value":e[1]||(e[1]=s=>a.value.pull_timeout_sec=s)},null,8,["value"])]),_:1}),l(p,{label:"等待关键帧数据"},{default:t(()=>[e[17]||(e[17]=b("span",{class:"info",style:{display:"block"}},"发送数据时，是否等待视频关键帧数据再发送",-1)),l(i,{value:a.value.enable,"onUpdate:value":e[2]||(e[2]=s=>a.value.enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[15]||(e[15]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[16]||(e[16]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"启用RTSP"},{default:t(()=>[l(i,{value:a.value.enable,"onUpdate:value":e[3]||(e[3]=s=>a.value.enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[18]||(e[18]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[19]||(e[19]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"RTSP 端口"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.addr,"onUpdate:value":e[4]||(e[4]=s=>a.value.addr=s),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"启用RTSPS"},{default:t(()=>[l(i,{value:a.value.rtsps_enable,"onUpdate:value":e[5]||(e[5]=s=>a.value.rtsps_enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[20]||(e[20]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[21]||(e[21]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"RTSPS 端口"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.rtsps_addr,"onUpdate:value":e[6]||(e[6]=s=>a.value.rtsps_addr=s),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"启用WS_RTSP"},{default:t(()=>[l(i,{value:a.value.ws_rtsp_enable,"onUpdate:value":e[7]||(e[7]=s=>a.value.ws_rtsp_enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[22]||(e[22]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[23]||(e[23]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"WS_RTSP 端口"},{default:t(()=>[l(o,{style:{width:"120px"},value:a.value.ws_rtsp_addr,"onUpdate:value":e[8]||(e[8]=s=>a.value.ws_rtsp_addr=s),min:1,max:65535},null,8,["value"])]),_:1}),l(p,{label:"RTSP鉴权"},{default:t(()=>[l(i,{value:a.value.auth_enable,"onUpdate:value":e[9]||(e[9]=s=>a.value.auth_enable=s)},{default:t(()=>[l(n,{value:!0},{default:t(()=>e[24]||(e[24]=[u("开启")])),_:1}),l(n,{value:!1},{default:t(()=>e[25]||(e[25]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"RTSP鉴权方式"},{default:t(()=>[l(i,{value:a.value.auth_method,"onUpdate:value":e[10]||(e[10]=s=>a.value.auth_method=s)},{default:t(()=>[l(n,{value:0},{default:t(()=>e[26]||(e[26]=[u("Basic")])),_:1}),l(n,{value:1},{default:t(()=>e[27]||(e[27]=[u("Digest")])),_:1})]),_:1},8,["value"])]),_:1}),l(p,{label:"账号"},{default:t(()=>[l(r,{value:a.value.username,"onUpdate:value":e[11]||(e[11]=s=>a.value.username=s)},null,8,["value"])]),_:1}),l(p,{label:"密码"},{default:t(()=>[l(r,{value:a.value.password,"onUpdate:value":e[12]||(e[12]=s=>a.value.password=s)},null,8,["value"])]),_:1}),l(p,null,{default:t(()=>[e[29]||(e[29]=b("br",null,null,-1)),l(y,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(U,{type:"primary"},{default:t(()=>e[28]||(e[28]=[u("保存")])),_:1})]),_:1})]),_:1}),l(f,{open:v.open,"onUpdate:open":e[14]||(e[14]=s=>v.open=s),width:"260px",style:{top:"34%"},title:"添加IP白名单",onOk:v.handleOk},{default:t(()=>[l(r,{value:v.inputIp,"onUpdate:value":e[13]||(e[13]=s=>v.inputIp=s)},null,8,["value"]),v.inputIpErr?(T(),G("span",$e,"IP地址格式不正确")):I("",!0),e[30]||(e[30]=b("br",null,null,-1))]),_:1},8,["open","onOk"])]),_:1},8,["model"])}}},Le={class:"fw600"},Ne={__name:"record",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({enable_flv:!1,flv_out_path:"",enable_mpegts:!1,mpegts_out_path:"",enable_fmp4:!1,fmp4_out_path:""}),_=()=>{$.postConfigRecord(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=K,p=q,n=N,i=j,r=B,U=V,y=D;return T(),k(y,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",Le,O(S.value),1),l(x),l(n,{label:"启用FLV录制"},{default:t(()=>[l(p,{value:a.value.enable_flv,"onUpdate:value":e[0]||(e[0]=f=>a.value.enable_flv=f)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[6]||(e[6]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[7]||(e[7]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"FLV录制路径"},{default:t(()=>[l(i,{value:a.value.flv_out_path,"onUpdate:value":e[1]||(e[1]=f=>a.value.flv_out_path=f)},null,8,["value"])]),_:1}),l(n,{label:"启用FMP4录制"},{default:t(()=>[l(p,{value:a.value.enable_fmp4,"onUpdate:value":e[2]||(e[2]=f=>a.value.enable_fmp4=f)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[8]||(e[8]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[9]||(e[9]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"FMP4录制路径"},{default:t(()=>[l(i,{value:a.value.fmp4_out_path,"onUpdate:value":e[3]||(e[3]=f=>a.value.fmp4_out_path=f)},null,8,["value"])]),_:1}),l(n,{label:"启用MPEGTS录制"},{default:t(()=>[l(p,{value:a.value.enable_mpegts,"onUpdate:value":e[4]||(e[4]=f=>a.value.enable_mpegts=f)},{default:t(()=>[l(o,{value:!0},{default:t(()=>e[10]||(e[10]=[u("开启")])),_:1}),l(o,{value:!1},{default:t(()=>e[11]||(e[11]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"MPEGTS录制路径"},{default:t(()=>[l(i,{value:a.value.mpegts_out_path,"onUpdate:value":e[5]||(e[5]=f=>a.value.mpegts_out_path=f)},null,8,["value"])]),_:1}),l(n,null,{default:t(()=>[e[13]||(e[13]=b("br",null,null,-1)),l(U,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(r,{type:"primary"},{default:t(()=>e[12]||(e[12]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},je={class:"fw600"},Be={__name:"baseLog",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({dir:"",level:"",max_age:0,rotation_time:0,rotation_size:0}),_=()=>{$.postConfigBaseLog(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=A,p=J,n=N,i=E,r=j,U=B,y=V,f=D;return T(),k(f,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",je,O(S.value),1),l(x),l(n,{label:"日志级别"},{default:t(()=>[l(p,{ref:"select",value:a.value.level,"onUpdate:value":e[0]||(e[0]=w=>a.value.level=w),style:{"max-width":"120px"}},{default:t(()=>[l(o,{value:"debug"},{default:t(()=>e[5]||(e[5]=[u("debug")])),_:1}),l(o,{value:"info"},{default:t(()=>e[6]||(e[6]=[u("info")])),_:1}),l(o,{value:"warn"},{default:t(()=>e[7]||(e[7]=[u("warn")])),_:1}),l(o,{value:"error"},{default:t(()=>e[8]||(e[8]=[u("error")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"保留时长(s)"},{default:t(()=>[e[9]||(e[9]=b("span",{class:"info"},"保留日志多久，超过时间自动删除",-1)),l(i,{style:{width:"120px"},value:a.value.max_age,"onUpdate:value":e[1]||(e[1]=w=>a.value.max_age=w)},null,8,["value"])]),_:1}),l(n,{label:"日志分割(s)"},{default:t(()=>[e[10]||(e[10]=b("span",{class:"info"},"多久时间，分割一个新的日志文件",-1)),l(i,{style:{width:"120px"},value:a.value.rotation_time,"onUpdate:value":e[2]||(e[2]=w=>a.value.rotation_time=w)},null,8,["value"])]),_:1}),l(n,{label:"日志大小(MB)"},{default:t(()=>[e[11]||(e[11]=b("span",{class:"info"},"多大文件，分割一个新的日志文件",-1)),l(i,{style:{width:"120px"},value:a.value.rotation_size,"onUpdate:value":e[3]||(e[3]=w=>a.value.rotation_size=w)},null,8,["value"])]),_:1}),l(n,{label:"日志路径"},{default:t(()=>[l(r,{value:a.value.dir,"onUpdate:value":e[4]||(e[4]=w=>a.value.dir=w)},null,8,["value"])]),_:1}),l(n,null,{default:t(()=>[e[13]||(e[13]=b("br",null,null,-1)),l(y,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(U,{type:"primary"},{default:t(()=>e[12]||(e[12]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},Ve={class:"fw600"},De={__name:"streamLog",props:{info:{type:Object,default:()=>({})}},setup(P){const d=P,a=C({assert_behavior:0,level:0,filename:"",is_to_stdout:!1,is_rotate_daily:!1,short_file_flag:!1,timestamp_flag:!1,timestamp_with_ms_flag:!1,level_flag:!1}),_=()=>{$.postConfigStreamLog(a.value,!0).then(v=>{v.status==200&&M.success({description:"修改成功!"})})};a.value=d.info.config;const S=F(()=>d.info.label);return z(()=>d.info,()=>{a.value=d.info.config},{deep:!0}),(v,e)=>{const x=L,o=A,p=J,n=N,i=K,r=q,U=j,y=B,f=V,w=D;return T(),k(w,{model:a.value,layout:"vertical"},{default:t(()=>[b("h3",Ve,O(S.value),1),l(x),l(n,{label:"日志断言"},{default:t(()=>[l(p,{ref:"select",value:a.value.assert_behavior,"onUpdate:value":e[0]||(e[0]=s=>a.value.assert_behavior=s)},{default:t(()=>[l(o,{value:1},{default:t(()=>e[9]||(e[9]=[u("只打印错误日志")])),_:1}),l(o,{value:2},{default:t(()=>e[10]||(e[10]=[u("打印并退出程序")])),_:1}),l(o,{value:3},{default:t(()=>e[11]||(e[11]=[u("打印并panic")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"日志级别"},{default:t(()=>[l(p,{ref:"select",value:a.value.level,"onUpdate:value":e[1]||(e[1]=s=>a.value.level=s)},{default:t(()=>[l(o,{value:0},{default:t(()=>e[12]||(e[12]=[u("trace")])),_:1}),l(o,{value:1},{default:t(()=>e[13]||(e[13]=[u("debug")])),_:1}),l(o,{value:2},{default:t(()=>e[14]||(e[14]=[u("info")])),_:1}),l(o,{value:3},{default:t(()=>e[15]||(e[15]=[u("warn")])),_:1}),l(o,{value:4},{default:t(()=>e[16]||(e[16]=[u("error")])),_:1}),l(o,{value:5},{default:t(()=>e[17]||(e[17]=[u("fatal")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"输出到控制台"},{default:t(()=>[e[20]||(e[20]=b("span",{class:"info"},"是否以stdout输出到控制台 TODO(chef): 再增加一个stderr的配置",-1)),l(r,{value:a.value.is_to_stdout,"onUpdate:value":e[2]||(e[2]=s=>a.value.is_to_stdout=s)},{default:t(()=>[l(i,{value:!0},{default:t(()=>e[18]||(e[18]=[u("开启")])),_:1}),l(i,{value:!1},{default:t(()=>e[19]||(e[19]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"日志翻转"},{default:t(()=>[e[23]||(e[23]=b("span",{class:"info"},"日志按天翻转",-1)),l(r,{value:a.value.is_rotate_daily,"onUpdate:value":e[3]||(e[3]=s=>a.value.is_rotate_daily=s)},{default:t(()=>[l(i,{value:!0},{default:t(()=>e[21]||(e[21]=[u("开启")])),_:1}),l(i,{value:!1},{default:t(()=>e[22]||(e[22]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"日志行号"},{default:t(()=>[e[26]||(e[26]=b("span",{class:"info"},"是否在每行日志尾部添加源码文件及行号的信息",-1)),l(r,{value:a.value.short_file_flag,"onUpdate:value":e[4]||(e[4]=s=>a.value.short_file_flag=s)},{default:t(()=>[l(i,{value:!0},{default:t(()=>e[24]||(e[24]=[u("开启")])),_:1}),l(i,{value:!1},{default:t(()=>e[25]||(e[25]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"日志时间戳"},{default:t(()=>[e[29]||(e[29]=b("span",{class:"info"},"是否在每行日志首部添加时间戳的信息",-1)),l(r,{value:a.value.timestamp_flag,"onUpdate:value":e[5]||(e[5]=s=>a.value.timestamp_flag=s)},{default:t(()=>[l(i,{value:!0},{default:t(()=>e[27]||(e[27]=[u("开启")])),_:1}),l(i,{value:!1},{default:t(()=>e[28]||(e[28]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"毫秒时间戳"},{default:t(()=>[e[32]||(e[32]=b("span",{class:"info"},"时间戳是否精确到毫秒",-1)),l(r,{value:a.value.timestamp_with_ms_flag,"onUpdate:value":e[6]||(e[6]=s=>a.value.timestamp_with_ms_flag=s)},{default:t(()=>[l(i,{value:!0},{default:t(()=>e[30]||(e[30]=[u("开启")])),_:1}),l(i,{value:!1},{default:t(()=>e[31]||(e[31]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"显示级别"},{default:t(()=>[e[35]||(e[35]=b("span",{class:"info"},"日志是否包含日志级别字段",-1)),l(r,{value:a.value.level_flag,"onUpdate:value":e[7]||(e[7]=s=>a.value.level_flag=s)},{default:t(()=>[l(i,{value:!0},{default:t(()=>e[33]||(e[33]=[u("开启")])),_:1}),l(i,{value:!1},{default:t(()=>e[34]||(e[34]=[u("关闭")])),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"日志路径"},{default:t(()=>[l(U,{value:a.value.filename,"onUpdate:value":e[8]||(e[8]=s=>a.value.filename=s)},null,8,["value"])]),_:1}),l(n,null,{default:t(()=>[e[37]||(e[37]=b("br",null,null,-1)),l(f,{title:"保存后系统将会重启?","ok-text":"确认","cancel-text":"取消",onConfirm:_},{default:t(()=>[l(y,{type:"primary"},{default:t(()=>e[36]||(e[36]=[u("保存")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}},jl={__name:"index",setup(P){const d=C({}),a=C("1"),_=C([a.value]),S=C([]),v=C([{key:"1",label:"基础配置",title:"基础配置",config:{}},{key:"2",label:"流媒体配置",title:"流媒体配置",config:{}},{key:"3",label:"数据库配置",title:"数据库配置",config:{}},{key:"4",label:"HLS配置",title:"HLS配置",config:{}},{key:"5",label:"RTC配置",title:"RTC配置",config:{}},{key:"6",label:"RTMP配置",title:"RTMP配置",config:{}},{key:"7",label:"RTSP配置",title:"RTSP配置",config:{}},{key:"8",label:"录像配置",title:"录像配置",config:{}},{key:"9",label:"系统日志",title:"系统日志",config:{}},{key:"10",label:"流媒体日志",title:"流媒体日志",config:{}}]),e=p=>v.value.find(n=>n.key==p);d.value=e(a.value);const x=p=>{d.value=e(p.key)};return(()=>{$.getConfigBase().then(p=>{var n,i,r,U,y,f,w,s,g,R;p.status==200&&(v.value[0].config=(n=p.data)==null?void 0:n.base,v.value[1].config=(i=p.data)==null?void 0:i.stream,v.value[2].config=(r=p.data)==null?void 0:r.data,v.value[3].config=(U=p.data)==null?void 0:U.hls,v.value[4].config=(y=p.data)==null?void 0:y.rtc,v.value[5].config=(f=p.data)==null?void 0:f.rtmp,v.value[6].config=(w=p.data)==null?void 0:w.rtsp,v.value[7].config=(s=p.data)==null?void 0:s.record,v.value[8].config=(g=p.data)==null?void 0:g.base_log,v.value[9].config=(R=p.data)==null?void 0:R.stream_log)})})(),(p,n)=>{const i=ve,r=de,U=ie,y=fe;return T(),k(y,{class:"config-box"},{default:t(()=>[l(r,{flex:"240px"},{default:t(()=>[l(i,{style:{"border-radius":"8px"},id:"dddddd",openKeys:S.value,"onUpdate:openKeys":n[0]||(n[0]=f=>S.value=f),selectedKeys:_.value,"onUpdate:selectedKeys":n[1]||(n[1]=f=>_.value=f),mode:"inline",items:v.value,onClick:x},null,8,["openKeys","selectedKeys","items"])]),_:1}),l(r,{flex:"auto",style:{overflow:"hidden",height:"100%"}},{default:t(()=>[l(U,null,{default:t(()=>[_.value[0]=="1"?(T(),k(ye,{key:0,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="2"?(T(),k(Ue,{key:1,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="3"?(T(),k(we,{key:2,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="4"?(T(),k(Se,{key:3,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="5"?(T(),k(Ce,{key:4,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="6"?(T(),k(Me,{key:5,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="7"?(T(),k(Re,{key:6,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="8"?(T(),k(Ne,{key:7,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="9"?(T(),k(Be,{key:8,info:d.value},null,8,["info"])):I("",!0),_.value[0]=="10"?(T(),k(De,{key:9,info:d.value},null,8,["info"])):I("",!0)]),_:1})]),_:1})]),_:1})}}};export{jl as default};
